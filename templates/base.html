<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Portföljbolagen{% endblock %} - Senaste om Onoterat & AI</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='Port.png') }}">
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='Port.png') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='layout.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='charts.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    {% block extra_css %}{% endblock %}
</head>
<body class="modern-layout">
    
    <!-- News Ticker -->
    <div class="news-ticker-wrapper">
        <div class="news-ticker-container">
            <div class="news-ticker" id="newsTicker">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="top-nav-container" style="display: flex; align-items: center; justify-content: space-between;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <!-- Mobile Menu Toggle (Hidden on desktop) -->
                <button class="mobile-menu-toggle" style="display: none;" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="brand" style="display: flex; align-items: center; gap: 15px; margin-left: -10px; cursor: pointer;" onclick="window.location.href='/'">
                    <img src="{{ url_for('static', filename='Port.png') }}" alt="Portföljbolagen" style="height: 35px; width: auto; border-radius: 6px; margin-top: 0px;">
                    <span style="font-size: 1.2rem; font-weight: 700; color: white;">Portföljbolagen</span>
                </div>
            </div>
            
            <!-- ForteCo attribution -->
            <div style="margin-left: auto; margin-right: 1rem; white-space: nowrap;">
                <span style="font-size: 0.5rem; color: rgba(255, 255, 255, 0.5); font-weight: 400;">A ForteCo Initiative</span>
            </div>
            
        </div>
    </nav>
    
            <!-- Sidebar Navigation -->
            <aside class="sidebar">
                <!-- Navigation Links -->
                <div class="sidebar-section">
                    <a href="/" class="sidebar-link {% if request.path == '/' %}active{% endif %}">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </div>
                
                <!-- Private Equity Category -->
                <div class="sidebar-section">
                    <div class="sidebar-category" onclick="toggleDropdown('private-equity')">
                        <div class="category-header">
                            <i class="fas fa-briefcase"></i>
                            <span>Private Equity</span>
                            <i class="fas fa-chevron-down dropdown-arrow" id="private-equity-arrow"></i>
                        </div>
                    </div>
                    <div class="sidebar-dropdown" id="private-equity-dropdown">
                        <a href="/pe-firms" class="sidebar-link {% if request.path == '/pe-firms' %}active{% endif %}">
                            <i class="fas fa-building"></i>
                            <span>PE Firms</span>
                        </a>
                        <a href="/news" class="sidebar-link {% if request.path == '/news' %}active{% endif %}">
                            <i class="fas fa-newspaper"></i>
                            <span>Investment News</span>
                        </a>
                        <a href="/portfolio" class="sidebar-link {% if request.path == '/portfolio' %}active{% endif %}">
                            <i class="fas fa-chart-line"></i>
                            <span>Portfolio Companies</span>
                        </a>
                        <a href="/fundraising" class="sidebar-link {% if request.path == '/fundraising' %}active{% endif %}">
                            <i class="fas fa-chart-pie"></i>
                            <span>Fundraising</span>
                        </a>
                        <a href="/league-tables" class="sidebar-link {% if request.path == '/league-tables' %}active{% endif %}">
                            <i class="fas fa-trophy"></i>
                            <span>League Tables</span>
                        </a>
                        <a href="/deal-flow" class="sidebar-link {% if request.path == '/deal-flow' %}active{% endif %}">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Deal Flow</span>
                        </a>
                    </div>
                </div>
                
                <!-- AI & Technology Category -->
                <div class="sidebar-section">
                    <div class="sidebar-category" onclick="toggleDropdown('ai-technology')">
                        <div class="category-header">
                            <i class="fas fa-robot"></i>
                            <span>AI & Technology</span>
                            <i class="fas fa-chevron-down dropdown-arrow" id="ai-technology-arrow"></i>
                        </div>
                    </div>
                    <div class="sidebar-dropdown" id="ai-technology-dropdown">
                        <a href="/ai-companies" class="sidebar-link {% if request.path == '/ai-companies' %}active{% endif %}">
                            <i class="fas fa-microchip"></i>
                            <span>AI Companies</span>
                        </a>
                        <a href="/ai-news" class="sidebar-link {% if request.path == '/ai-news' %}active{% endif %}">
                            <i class="fas fa-brain"></i>
                            <span>AI News</span>
                        </a>
                        <a href="/ai-investors" class="sidebar-link {% if request.path == '/ai-investors' %}active{% endif %}">
                            <i class="fas fa-users"></i>
                            <span>AI Investors</span>
                        </a>
                        <a href="/ai-trends" class="sidebar-link {% if request.path == '/ai-trends' %}active{% endif %}">
                            <i class="fas fa-chart-area"></i>
                            <span>Trends & Analysis</span>
                        </a>
                        <a href="/ai-map" class="sidebar-link {% if request.path == '/ai-map' %}active{% endif %}">
                            <i class="fas fa-map-marked-alt"></i>
                            <span>Nordic AI Map</span>
                        </a>
                    </div>
                </div>
            </aside>
    
    <!-- Main Content Area -->
    <main class="main-container">
        {% block content %}{% endblock %}
    </main>
    
    <script src="{{ url_for('static', filename='common.js') }}"></script>
    <script src="{{ url_for('static', filename='news_ticker.js') }}"></script>
    
    <!-- Dropdown Navigation Script -->
    <script>
        // Dropdown toggle functionality with smooth animations
        function toggleDropdown(category) {
            const dropdown = document.getElementById(category + '-dropdown');
            const arrow = document.getElementById(category + '-arrow');
            const categoryElement = dropdown.closest('.sidebar-section').querySelector('.sidebar-category');
            
            if (dropdown.style.maxHeight && dropdown.style.maxHeight !== '0px') {
                dropdown.style.maxHeight = '0px';
                arrow.style.transform = 'rotate(0deg)';
                categoryElement.classList.remove('open');
            } else {
                dropdown.style.maxHeight = dropdown.scrollHeight + 'px';
                arrow.style.transform = 'rotate(180deg)';
                categoryElement.classList.add('open');
            }
        }
        
        // Initialize dropdowns as open by default
        document.addEventListener('DOMContentLoaded', function() {
            // Open dropdowns by default
            toggleDropdown('private-equity');
            toggleDropdown('ai-technology');
            
            // Add smooth scrolling to sidebar links
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    // Add active state with animation
                    document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
    
    <!-- Mobile Menu Toggle Script -->
    <script>
        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const sidebar = document.querySelector('.sidebar');
            const mainContainer = document.querySelector('.main-container');
            
            if (mobileMenuToggle && sidebar) {
                mobileMenuToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('open');
                });
                
                // Close sidebar when clicking outside on mobile
                if (mainContainer) {
                    mainContainer.addEventListener('click', function() {
                        if (sidebar.classList.contains('open')) {
                            sidebar.classList.remove('open');
                        }
                    });
                }
                
                // Close sidebar when clicking a link
                const sidebarLinks = sidebar.querySelectorAll('.sidebar-link');
                sidebarLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        sidebar.classList.remove('open');
                    });
                });
            }
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>

