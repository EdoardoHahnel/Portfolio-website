<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Portföljbolagen{% endblock %} - Senaste om Onoterat & AI</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='Port.png') }}">
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='Port.png') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='layout.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='charts.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    {% block extra_css %}{% endblock %}
</head>
<body class="modern-layout">
    
    <!-- News Ticker -->
    <div class="news-ticker-wrapper">
        <div class="news-ticker-container">
            <div class="news-ticker" id="newsTicker">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="top-nav-container">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <!-- Mobile Menu Toggle (Hidden on desktop) -->
                <button class="mobile-menu-toggle" style="display: none;" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="brand" style="display: flex; align-items: center; gap: 15px; margin-left: -10px;">
                    <img src="{{ url_for('static', filename='Port.png') }}" alt="Portföljbolagen" style="height: 35px; width: auto; border-radius: 6px; margin-top: 0px;">
                    <span style="font-size: 1.2rem; font-weight: 700; color: white;">Portföljbolagen</span>
                </div>
            </div>
            
        </div>
    </nav>
    
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <!-- Overview Section -->
        <div class="sidebar-section">
            <a href="/" class="sidebar-link {% if request.path == '/' %}active{% endif %}">
                <span>Dashboard</span>
            </a>
        </div>
        
        <!-- Private Equity Category -->
        <div class="sidebar-section">
            <div class="sidebar-category-text" onclick="toggleDropdown('private-equity')">
                <span>Private Equity</span>
                <i class="fas fa-chevron-down dropdown-arrow" id="private-equity-arrow"></i>
            </div>
            <div class="sidebar-dropdown" id="private-equity-dropdown">
                <a href="/pe-firms" class="sidebar-link {% if request.path == '/pe-firms' %}active{% endif %}">
                    <span>PE Firms</span>
                    <span class="count">18</span>
                </a>
                <a href="/news" class="sidebar-link {% if request.path == '/news' %}active{% endif %}">
                    <span>Investment News</span>
                    <span class="count">50</span>
                </a>
                <a href="/portfolio" class="sidebar-link {% if request.path == '/portfolio' %}active{% endif %}">
                    <span>Portfolio Companies</span>
                    <span class="count">349</span>
                </a>
                <a href="/fundraising" class="sidebar-link {% if request.path == '/fundraising' %}active{% endif %}">
                    <span>Fundraising</span>
                    <span class="count">43</span>
                </a>
                <a href="/league-tables" class="sidebar-link {% if request.path == '/league-tables' %}active{% endif %}">
                    <span>League Tables</span>
                    <span class="count">80</span>
                </a>
                <a href="/deal-flow" class="sidebar-link {% if request.path == '/deal-flow' %}active{% endif %}">
                    <span>Deal Flow</span>
                    <span class="count">25</span>
                </a>
            </div>
        </div>
        
        <!-- AI & Technology Category -->
        <div class="sidebar-section">
            <div class="sidebar-category-text" onclick="toggleDropdown('ai-technology')">
                <span>AI & Technology</span>
                <i class="fas fa-chevron-down dropdown-arrow" id="ai-technology-arrow"></i>
            </div>
            <div class="sidebar-dropdown" id="ai-technology-dropdown">
                <a href="/ai-companies" class="sidebar-link {% if request.path == '/ai-companies' %}active{% endif %}">
                    <span>AI Companies</span>
                    <span class="count">55</span>
                </a>
                <a href="/ai-news" class="sidebar-link {% if request.path == '/ai-news' %}active{% endif %}">
                    <span>AI News</span>
                </a>
                <a href="/ai-investors" class="sidebar-link {% if request.path == '/ai-investors' %}active{% endif %}">
                    <span>AI Investors</span>
                </a>
                <a href="/ai-trends" class="sidebar-link {% if request.path == '/ai-trends' %}active{% endif %}">
                    <span>Trends & Analysis</span>
                </a>
                <a href="/ai-map" class="sidebar-link {% if request.path == '/ai-map' %}active{% endif %}">
                    <span>Nordic AI Map</span>
                </a>
            </div>
        </div>
        
        <div class="sidebar-footer">
        </div>
    </aside>
    
    <!-- Main Content Area -->
    <main class="main-container">
        {% block content %}{% endblock %}
    </main>
    
    <script src="{{ url_for('static', filename='common.js') }}"></script>
    <script src="{{ url_for('static', filename='news_ticker.js') }}"></script>
    
    <!-- Dropdown Navigation Script -->
    <script>
        // Dropdown toggle functionality with smooth animations
        function toggleDropdown(category) {
            const dropdown = document.getElementById(category + '-dropdown');
            const arrow = document.getElementById(category + '-arrow');
            
            if (dropdown.classList.contains('show')) {
                // Close dropdown
                dropdown.classList.remove('show');
                arrow.style.transform = 'rotate(0deg)';
            } else {
                // Open dropdown
                dropdown.classList.add('show');
                arrow.style.transform = 'rotate(180deg)';
            }
        }
        
        // Initialize dropdowns - closed by default
        document.addEventListener('DOMContentLoaded', function() {
            // Close all dropdowns by default
            const dropdowns = ['overview', 'private-equity', 'ai-technology'];
            dropdowns.forEach(category => {
                const dropdown = document.getElementById(category + '-dropdown');
                const arrow = document.getElementById(category + '-arrow');
                if (dropdown) {
                    dropdown.classList.remove('show');
                    arrow.style.transform = 'rotate(0deg)';
                }
            });
        });
    </script>
    
    <!-- Mobile Menu Toggle Script -->
    <script>
        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const sidebar = document.querySelector('.sidebar');
            const mainContainer = document.querySelector('.main-container');
            
            if (mobileMenuToggle && sidebar) {
                mobileMenuToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('open');
                });
                
                // Close sidebar when clicking outside on mobile
                if (mainContainer) {
                    mainContainer.addEventListener('click', function() {
                        if (sidebar.classList.contains('open')) {
                            sidebar.classList.remove('open');
                        }
                    });
                }
                
                // Close sidebar when clicking a link
                const sidebarLinks = sidebar.querySelectorAll('.sidebar-link');
                sidebarLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        sidebar.classList.remove('open');
                    });
                });
            }
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>

