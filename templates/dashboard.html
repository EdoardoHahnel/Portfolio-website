{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='layout.css') }}">
{% endblock %}

{% block content %}
<div class="page-header">
    <div style="display: flex; align-items: center; gap: 10px;">
        <h1 class="page-title" style="margin: 0;">Insights Dashboard</h1>
        <img src="{{ url_for('static', filename='Port.png') }}" alt="Portföljbolagen" style="height: 25px; width: auto; border-radius: 6px; box-shadow: 0 1px 4px rgba(0,0,0,0.1);">
    </div>
    <p class="page-subtitle">Real-time intelligence on Nordic private equity, deals, fundraising, and AI</p>
</div>

<!-- Dashboard Stats Cards -->
<div class="dashboard-grid">
    <a href="/portfolio" class="stat-card-link">
        <div class="stat-card">
            <div class="stat-card-icon-top purple">
                <i class="fas fa-building"></i>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="totalCompanies">349</div>
                <div class="stat-card-label">Portfolio Companies</div>
                <div class="stat-card-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+12% this quarter</span>
                </div>
            </div>
        </div>
    </a>
    
    <a href="/news" class="stat-card-link">
        <div class="stat-card">
            <div class="stat-card-icon-top purple">
                <i class="fas fa-newspaper"></i>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="totalNews">75</div>
                <div class="stat-card-label">Latest Investment News</div>
                <div class="stat-card-change positive">
                    <i class="fas fa-check-circle"></i>
                    <span>Updated today</span>
                </div>
            </div>
        </div>
    </a>
    
    <a href="/pe-firms" class="stat-card-link">
        <div class="stat-card">
            <div class="stat-card-icon-top purple">
                <i class="fas fa-briefcase"></i>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value">14</div>
                <div class="stat-card-label">PE Firms Tracked</div>
                <div class="stat-card-change info">
                    <i class="fas fa-euro-sign"></i>
                    <span>€327B+ AUM</span>
                </div>
            </div>
        </div>
    </a>
</div>

<!-- Recent Activity Grid -->
<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
    
    <!-- Latest Investment News -->
    <div class="content-card">
        <div class="content-card-header">
            <h2 class="content-card-title">
                <i class="fas fa-newspaper"></i>
                Latest Investment News
            </h2>
        </div>
        <div class="content-card-body">
            <div id="latestNews" class="news-list-compact">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- AI Investment News -->
    <div class="content-card">
        <div class="content-card-header">
            <h2 class="content-card-title">
                <i class="fas fa-robot"></i>
                AI Investment News
            </h2>
            <a href="/ai-news" class="btn btn-secondary btn-sm">View All</a>
        </div>
        <div class="content-card-body">
            <div id="latestAINews" class="news-list-compact">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Active Fundraising -->
    <div class="content-card">
        <div class="content-card-header">
            <h2 class="content-card-title">
                <i class="fas fa-chart-pie"></i>
                Active Fundraising
            </h2>
            <a href="/fundraising" class="btn btn-secondary btn-sm">View Tracker</a>
        </div>
        <div class="content-card-body">
            <div id="activeFundraising" class="fundraising-list-compact">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>
</div>

<!-- PE Firms Overview -->
<div class="content-card">
    <div class="content-card-header">
        <h2 class="content-card-title">
            <i class="fas fa-building"></i>
            Nordic PE Firms Overview
        </h2>
        <a href="/pe-firms" class="btn btn-secondary btn-sm">See All Firms</a>
    </div>
    <div class="content-card-body">
        <div id="peFirmsGrid" class="pe-firms-grid">
            <!-- Will be populated by JavaScript -->
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock %}

